jQuery(document).ready(function(t){function e(e,n){var i=e,a=t("#combinedListOfUsersAndRoles").attr("data").slice(0,-1).split(","),o='<div class="exception-case"><select>';for(key in a){var c=a[key];if(c.indexOf("Role:")>=0){o+=(d=c.substr(6,c.length-6))==i?'<option selected="selected" value="'+d+'">'+c+"</option>":'<option value="'+d+'">'+c+"</option>"}else{var r=c.indexOf("("),s=c.indexOf(")"),d=c.substr(r+1,s-r-1),_=c.substr(0,r);o+=d==i?'<option selected="selected" value="'+d+'">'+_+"</option>":'<option value="'+d+'">'+_+"</option>"}}o+='</select><i class="fa fa-plus add-exception-case" aria-hidden="true"></i><i class="fa fa-minus remove-exception-case" aria-hidden="true"></i></div>',n.find("#outputOfUsersAndRolesSelection").append(o)}function n(t){t.find("#outputOfUsersAndRolesSelection").append('<div class="add-exception-case" id="add-initial-exception"><h3><i class="fa fa-plus" aria-hidden="true"></i> Add an exception case</h3></div>')}t(".wrap").on("click",".please-hide-that-annoying-notice button",function(){jQuery.ajax({url:ajaxurl,data:{action:"wpcai_welcome_notice"}})}),t(".wrap").on("click",".custom-admin-interface-pro-notice button",function(){console.log("hello world"),jQuery.ajax({url:ajaxurl,data:{action:"wpcai_pro_notice"}})}),t(".hidden").hide(),t(".information-icon").click(function(e){e.preventDefault(),t(this).next(".hidden").slideToggle()}),t(".my-color-field").wpColorPicker(),t(".postbox").on("click",".wp_custom_admin_interface_media_upload_button",function(e){e.preventDefault();var n=t(this).prev(),i=wp.media({title:"Upload Image",multiple:!1}).open().on("select",function(t){var e=i.state().get("selection").first().toJSON().url;n.val(e)})}),t(".wp_custom_admin_interface_append_buttons_footer_text").click(function(){t("#wp_custom_admin_interface_custom_footer_ifr").contents().find("#tinymce p").html(t("#wp_custom_admin_interface_custom_footer_ifr").contents().find("#tinymce p").html()+t(this).attr("value")),t("#wp-wp_custom_admin_interface_custom_footer-editor-container").find("textarea").html(t("#wp-wp_custom_admin_interface_custom_footer-editor-container").find("textarea").html()+t(this).attr("value"))}),t(".wp_custom_admin_interface_append_buttons_widget_text").click(function(){t("#wp_custom_admin_interface_custom_widget_content_ifr").contents().find("#tinymce p").html(t("#wp_custom_admin_interface_custom_widget_content_ifr").contents().find("#tinymce p").html()+t(this).attr("value")),t("#wp-wp_custom_admin_interface_custom_widget_content-editor-container").find("textarea").html(t("#wp-wp_custom_admin_interface_custom_widget_content-editor-container").find("textarea").html()+t(this).attr("value"))}),t(".wp_custom_admin_interface_append_buttons_notice_text").click(function(){t("#wp_custom_admin_interface_notice_message_ifr").contents().find("#tinymce p").html(t("#wp_custom_admin_interface_notice_message_ifr").contents().find("#tinymce p").html()+t(this).attr("value")),t("#wp_custom_admin_interface_notice_message-editor-container").find("textarea").html(t("#wp-wp_custom_admin_interface_notice_message-editor-container").find("textarea").html()+t(this).attr("value"))}),t(".userAndRoleSelection").each(function(i){t(this);var a=t(this).next().next(),o=a.find(".saved_exception_cases").val(),c=o.slice(0,-1).split(",");o.length>0?t.each(c,function(t,n){e(n,a)}):n(a)}),t(".wrap").on("click",".add-exception-case",function(n){n.preventDefault();var i=t(this).parent().parent().parent().parent();t(this).parent().parent().find("#add-initial-exception").remove(),e("",i)}),t(".wrap").on("click",".remove-exception-case",function(e){e.preventDefault();var i=t(this).parent().parent(),a=t(this).parent().parent().parent();1==i.find(".exception-case").length?(t(this).parent().remove(),n(a)):t(this).parent().remove()})});